var app = angular.module('app', []);  app.controller('regCtrl', function($scope) {  $scope.restorans = [];  firebase.auth().onAuthStateChanged(function(user) {   if (user) {     //console.log('Estas activo');     db.collection("Restoran").onSnapshot((Snap) => {        Snap.forEach((doc) => { $scope.restorans.push(doc.data()); });       $scope.$apply();     });     console.log($scope.restorans);       } else {     window.location = 'login.html';   };  });     $scope.Grabar = () => {   var razon = document.getElementById("razon").value;   var direccion  = document.getElementById("direccion").value;   var telefono  = document.getElementById("telefono").value;    var entrada1 = document.getElementById("entrada1").value;   var entrada2 = document.getElementById("entrada2").value;   var entrada3 = document.getElementById("entrada3").value;   var entrada4 = document.getElementById("entrada4").value;   var entrada5 = document.getElementById("entrada5").value;    var segundo1  = document.getElementById("segundo1").value;   var segundo2  = document.getElementById("segundo2").value;   var segundo3  = document.getElementById("segundo3").value;   var segundo4  = document.getElementById("segundo4").value;   var segundo5  = document.getElementById("segundo5").value;   var segundo6  = document.getElementById("segundo6").value;   var segundo7  = document.getElementById("segundo7").value;   var segundo8  = document.getElementById("segundo8").value;    var extras1  = document.getElementById("extras1").value;   var extras2  = document.getElementById("extras2").value;   var extras3  = document.getElementById("extras3").value;   var extras4  = document.getElementById("extras4").value;   var extras5  = document.getElementById("extras5").value;   var extras6  = document.getElementById("extras6").value;   var extras7  = document.getElementById("extras7").value;   var extras8  = document.getElementById("extras8").value;    // Cargar foto antes de grabar   // Con el uid del usuario ?    // Graba   db.collection("Restoran").add({     razon: razon,     direccion: direccion,     telefono: telefono,     entrada1: entrada1,     entrada2: entrada2,     entrada3: entrada3,     entrada4: entrada4,     entrada5: entrada5,     segundo1: segundo1,     segundo2: segundo2,     segundo3: segundo3,     segundo4: segundo4,     segundo5: segundo5,     segundo6: segundo6,     segundo7: segundo7,     segundo8: segundo8,     extras1: extras1,     extras2: extras2,     extras3: extras3,     extras4: extras4,     extras5: extras5,     extras6: extras6,     extras7: extras7,     extras8: extras8   })   .then(function(docRef) {    console.log("Documento", docRef.id);    document.getElementById('razon').value = '';    document.getElementById('direccion').value = '';    document.getElementById('telefono').value = '';     $scope.errReg = 'Se creo correctamente';    $scope.    window.setTimeout(() => {       window.location.href = '';    }, 3000);    }).catch(function(error) {    console.log("Error", error);   }); }   }); // Fin del scope    